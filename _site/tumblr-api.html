<!DOCTYPE html>
<html>

  <head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<title>Tumblr API | These projects are maintained by Derek Misler.</title>
	<meta name="description" content="Knowing the posts would only ever be images, I kept things simple with just an ajax call for the posts.">
	
	<link href="http://fonts.googleapis.com/css?family=Lato:300,300italic,700,700italic|Playfair+Display:700" rel="stylesheet" type="text/css">
	<link rel="stylesheet" href="/css/main.css">
	<link rel="canonical" href="http://derekmisler.github.io/tumblr-api">
	<link rel="alternate" type="application/rss+xml" title="Selected Works" href="http://derekmisler.github.io/feed.xml">
</head>


  <body>

    	<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
	<!-- Google Tag Manager -->
	<noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-N2C864"
	height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
	<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
	new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
	j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
	'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
	})(window,document,'script','dataLayer','GTM-N2C864');</script>
	<!-- End Google Tag Manager -->


    <header class="site-header">

  <div class="wrapper">

    <h1 class="site-title">
    <a href="http://derekmisler.github.io">
    
      Tumblr API
    
    </a>
    </h1>
    <h4 class="site-subtitle">Projects by <a href="http://www.derekmisler.com" target="_blank">Derek</a>.</h4>
     <h4 class="site-project-link">This site was built with <a href="https://github.com/derekmisler/derekmisler.github.io" target="_blank">Jekyll and Sass</a>.</h4>
  </div>

</header>


    <div class="page-content">
      <div class="wrapper">
      
        <div class="description">
          <p>An example for the PR team for pulling in user-generated content from social media. Using the IFTTT service, they're able 'like' photos on other social channels, which will pull them into a catch-all Tumblr account that feeds into the primary website.<br>
          <strong>Tools Utilized:</strong> Tumblr&nbsp;API,&nbsp;jQuery,&nbsp;Ajax,&nbsp;JSON&nbsp;</p>
          
          <h4 class="site-project-link"><a href="https://github.com/derekmisler/Tumblr-API" target="_blank">View this project on GitHub</a></h4>
          
        </div>
        

        <p>Knowing the posts would only ever be images, I kept things simple with just an ajax call for the posts.</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">({</span>
  <span class="na">url</span><span class="p">:</span> <span class="s2">"http://api.tumblr.com/v2/blog/[tumblr name]/posts?api_key=[api key]"</span><span class="p">,</span>
  <span class="na">dataType</span><span class="p">:</span> <span class="s1">'jsonp'</span><span class="p">,</span>
  <span class="na">success</span><span class="p">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">info</span><span class="p">){</span>
    <span class="p">...</span>
  <span class="p">}</span>
<span class="p">});</span></code></pre></figure>

<p>The rest is just appending each post to a pre-styled grid, then, for effect, fading the images one-by-one into view.</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">postings</span> <span class="o">=</span> <span class="nx">posts</span><span class="p">.</span><span class="nx">response</span><span class="p">.</span><span class="nx">posts</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">text</span> <span class="o">=</span> <span class="s1">''</span><span class="p">;</span>
<span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="k">in</span> <span class="nx">postings</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">p</span> <span class="o">=</span> <span class="nx">postings</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span>
  <span class="kd">var</span> <span class="nx">image</span> <span class="o">=</span> <span class="nx">p</span><span class="p">.</span><span class="nx">photos</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">alt_sizes</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
  <span class="nx">text</span> <span class="o">+=</span> <span class="s1">'[image wrapped in the URL to the individual post]'</span><span class="p">;</span>
<span class="p">}</span>
<span class="nx">$</span><span class="p">(</span><span class="s1">'#tumblr ul'</span><span class="p">).</span><span class="nx">append</span><span class="p">(</span><span class="nx">text</span><span class="p">);</span>
<span class="p">...</span>
<span class="nx">thumbnail</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">i</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">delay</span><span class="p">((</span><span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="o">*</span> <span class="mi">100</span><span class="p">).</span><span class="nx">fadeTo</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
<span class="p">});</span></code></pre></figure>

<h4>Results:</h4>

<section id="tumblr">
  <h4 class="title"></h4>
  <ul class="block-grid-4"></ul>
</section>

<script>
  var thumbnail,
      thumbnailWidth;
  $.ajax({
    url: "http://api.tumblr.com/v2/blog/montanamoment.tumblr.com/posts?api_key=v6y8zw1aQk66fJevXGoFyv3BHfURcphvUD6hl88BB3yVyLKVm6",
    dataType: 'jsonp',
    success: function(posts){
      console.log('success');
      var postings = posts.response.posts;
      var text = '';
      for (var i in postings) {
        var p = postings[i];
        var image = p.photos[0].alt_sizes[2];
        text += '<li><a href="' + p.post_url + '" target="_blank" style="background-image: url(' + image.url + ')"></a></li>';
      }
      $('#tumblr ul').append(text);
      thumbnail = $('#tumblr').find('a'),
      thumbnailWidth = thumbnail.width();
      thumbnail.height(thumbnailWidth);
      thumbnail.each(function(i) {
        $(this).delay((i++) * 100).fadeTo(200, 1);
      });
    }
  });
  $( window ).resize(function() {
      thumbnail = $('#tumblr').find('a'),
      thumbnailWidth = thumbnail.width();
      thumbnail.height(thumbnailWidth);
  });
</script>
      </div>
    </div>

    <footer class="site-footer">

	<div class="wrapper">
		<div class="columns-4">
			<ul class="contact-list">
				
				<li>
					<a href="mailto:derekmisler@gmail.com">derekmisler@gmail.com</a>
				</li>
				

				
				<li>
					<a target="_blank" href="https://www.linkedin.com/in/derekmisler"><span class="icon icon--linkedin"><?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg width="144px" height="144px" viewBox="0 0 144 144" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">
    <!-- Generator: Sketch 3.4.1 (15681) - http://www.bohemiancoding.com/sketch -->
    <title>Slice 1</title>
    <desc>Created with Sketch.</desc>
    <defs></defs>
    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">
        <path d="M133.343,0 L10.629,0 C4.765,0 0,4.648 0,10.379 L0,133.609 C0,139.345 4.765,144 10.629,144 L133.343,144 C139.217,144 144.002,139.345 144.002,133.609 L144.002,10.379 C144.002,4.648 139.217,0 133.343,0 Z M122.706,122.707 L101.362,122.707 L101.362,89.288 C101.362,81.315 101.216,71.065 90.264,71.065 C79.149,71.065 77.447,79.747 77.447,88.711 L77.447,122.707 L56.104,122.707 L56.104,53.986 L76.593,53.986 L76.593,63.375 L76.877,63.375 C79.727,57.973 86.694,52.276 97.085,52.276 C118.713,52.276 122.706,66.509 122.706,85.012 L122.706,122.707 Z M32.034,44.592 C25.188,44.592 19.647,39.041 19.647,32.205 C19.647,25.374 25.188,19.825 32.034,19.825 C38.862,19.825 44.411,25.374 44.411,32.205 C44.411,39.041 38.862,44.592 32.034,44.592 Z M21.35,53.986 L42.709,53.986 L42.709,122.707 L21.35,122.707 L21.35,53.986 Z" id="Fill-1" fill="#FFFFFF" sketch:type="MSShapeGroup"></path>
    </g>
</svg></span><span class="username">&nbsp;derekmisler</span></a>

				</li>
				
			</ul>
		</div>

		<div class="columns-8">
			<p><a href="http://www.derekmisler.com" target="_blank">Derek is a front-end developer with a design background and over 10 years of experience.  He is also available for hire. Click here to learn more.
</a></p>
		</div>
	</div>

</footer>


  </body>
</html>
